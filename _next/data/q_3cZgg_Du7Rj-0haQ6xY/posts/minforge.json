{"pageProps":{"post":{"title":"miniforgeでpython 3.xを管理","date":"2025-11-07","slug":"minforge","content":"<h1 id=\"miniforge-%E3%81%A7-python-3.x-%E3%82%92%E7%AE%A1%E7%90%86\" data-line=\"1\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#miniforge-%E3%81%A7-python-3.x-%E3%82%92%E7%AE%A1%E7%90%86\" aria-hidden=\"true\"></a> miniforge で python 3.x を管理</h1>\n<h2 id=\"%E5%89%8D%E6%8F%90\" data-line=\"3\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E5%89%8D%E6%8F%90\" aria-hidden=\"true\"></a> 前提</h2>\n<p data-line=\"5\" class=\"code-line\">Anaconda は削除すること</p>\n<h2 id=\"miniforge-%E3%81%AE-github-%E3%81%8B%E3%82%89%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B\" data-line=\"7\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#miniforge-%E3%81%AE-github-%E3%81%8B%E3%82%89%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B\" aria-hidden=\"true\"></a> miniforge の Github からインストールする</h2>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"9\"><span class=\"token function\">curl</span> <span class=\"token parameter variable\">-L</span> <span class=\"token parameter variable\">-O</span> <span class=\"token string\">\"https://github.com/conda-forge/miniforge/releases/latest/download/Miniforge3-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span><span class=\"token variable\">)</span></span>-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-m</span><span class=\"token variable\">)</span></span>.sh\"</span>\n<span class=\"token function\">bash</span> Miniforge3-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span><span class=\"token variable\">)</span></span>-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> <span class=\"token parameter variable\">-m</span><span class=\"token variable\">)</span></span>.sh\n</code></pre></div><p data-line=\"14\" class=\"code-line\">質問に答えてインストールする</p>\n<p data-line=\"16\" class=\"code-line\">~/.zshrc を vim で開く</p>\n<div class=\"code-block-container\"><pre><code class=\"code-line\" data-line=\"18\">sudo vim ~/.zshrc\n</code></pre></div><p data-line=\"22\" class=\"code-line\">~/.zshrc に次の行を追加</p>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"24\"><span class=\"token builtin class-name\">eval</span> <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span>/Users/ここは自分のユーザ名/miniforge3/bin/conda shell.zsh hook<span class=\"token variable\">)</span></span>\"</span>\n</code></pre></div><p data-line=\"28\" class=\"code-line\">下記を一度実行して初期化</p>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"30\">conda init\n</code></pre></div><h2 id=\"miniforge-%E7%92%B0%E5%A2%83%E3%81%AE%E4%BD%9C%E6%88%90%E3%81%A8%E8%A8%AD%E5%AE%9A\" data-line=\"34\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#miniforge-%E7%92%B0%E5%A2%83%E3%81%AE%E4%BD%9C%E6%88%90%E3%81%A8%E8%A8%AD%E5%AE%9A\" aria-hidden=\"true\"></a> miniforge 環境の作成と設定</h2>\n<p data-line=\"36\" class=\"code-line\">miniforge は用途に応じていくつもの環境を作成・管理することができます。</p>\n<p data-line=\"38\" class=\"code-line\">conda env list コマンドで、miniforge で利用できる環境一覧を表示できます。<br />\nインストールしたてほやほやなので、base 環境しかありません。</p>\n<p data-line=\"41\" class=\"code-line\">base 環境の Python バージョンを確認してみます。conda list コマンドを実行します。</p>\n<p data-line=\"43\" class=\"code-line\">conda 環境で使用可能な Python のバージョンを確認してみましょう。conda search python コマンドを使います。</p>\n<p data-line=\"45\" class=\"code-line\">base 環境を最新のバージョンに変更。</p>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"47\">conda <span class=\"token function\">install</span> <span class=\"token parameter variable\">-n</span> base <span class=\"token assign-left variable\">python</span><span class=\"token operator\">=</span><span class=\"token number\">3.13</span>.5\n</code></pre></div><div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"51\">python <span class=\"token parameter variable\">-V</span>\n// 出力: Python <span class=\"token number\">3.13</span>.5\n</code></pre></div><p data-line=\"56\" class=\"code-line\">Python3.13.5 が使えるようになりました。</p>\n<h2 id=\"%E5%88%A5%E3%81%AE%E7%92%B0%E5%A2%83%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\" data-line=\"58\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E5%88%A5%E3%81%AE%E7%92%B0%E5%A2%83%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\" aria-hidden=\"true\"></a> 別の環境を作成する</h2>\n<p data-line=\"60\" class=\"code-line\">miniforge をインストールするとデフォルトの base 環境のみが作成されているものの、他の環境も作成することができます。</p>\n<h2 id=\"%E6%A9%9F%E6%A2%B0%E5%AD%A6%E7%BF%92%E3%81%AE%E7%92%B0%E5%A2%83%E3%82%92%E4%BD%9C%E6%88%90\" data-line=\"62\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E6%A9%9F%E6%A2%B0%E5%AD%A6%E7%BF%92%E3%81%AE%E7%92%B0%E5%A2%83%E3%82%92%E4%BD%9C%E6%88%90\" aria-hidden=\"true\"></a> 機械学習の環境を作成</h2>\n<p data-line=\"64\" class=\"code-line\">conda create コマンドで環境を作成します。-n オプションで、作成する環境の名前を指定することができます。</p>\n<p data-line=\"66\" class=\"code-line\">Python が新すぎるとモジュールが対応していないことがあるので、3.9 を指定して py39 環境を作る。</p>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"68\">conda create <span class=\"token parameter variable\">-n</span> py39 <span class=\"token assign-left variable\">python</span><span class=\"token operator\">=</span><span class=\"token number\">3.9</span>\n</code></pre></div><p data-line=\"72\" class=\"code-line\">実際に作成されたか、環境一覧を表示して確認。</p>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"74\">conda <span class=\"token function\">env</span> list\n</code></pre></div><p data-line=\"78\" class=\"code-line\">*がついているのが、現在アクティブになっている環境です。</p>\n<h4 id=\"%E4%BB%AE%E6%83%B3%E7%92%B0%E5%A2%83%E3%81%AE%E5%89%8A%E9%99%A4\" data-line=\"80\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E4%BB%AE%E6%83%B3%E7%92%B0%E5%A2%83%E3%81%AE%E5%89%8A%E9%99%A4\" aria-hidden=\"true\"></a> 仮想環境の削除</h4>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"82\">conda remove <span class=\"token parameter variable\">-n</span> 環境名 <span class=\"token parameter variable\">--all</span>\n</code></pre></div><p data-line=\"86\" class=\"code-line\">py39 環境に切り替えます。conda activate コマンドを使います。</p>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"88\">conda activate py39\n</code></pre></div><p data-line=\"92\" class=\"code-line\">シェルで起動時から py39 環境を使用したい(ターミナル起動時に自動で py39 環境を指定したい)場合は、<code>.zshrc</code>に下記を追記する</p>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"94\">conda activate py39\n</code></pre></div><h4 id=\"%E7%92%B0%E5%A2%83%E3%81%AB%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" data-line=\"98\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E7%92%B0%E5%A2%83%E3%81%AB%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" aria-hidden=\"true\"></a> 環境にインストール</h4>\n<p data-line=\"100\" class=\"code-line\">よく使うモジュールをインストールする</p>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"102\">conda <span class=\"token function\">install</span> numpy scipy sympy matplotlib scikit-learn pandas jupyter notebook ipykernel jupyterlab graphviz pydot openpyxl\n</code></pre></div><h4 id=\"jupyter-lab-%E3%82%92%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B\" data-line=\"106\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#jupyter-lab-%E3%82%92%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8B\" aria-hidden=\"true\"></a> jupyter lab を起動する</h4>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"108\">jupyter lab\n</code></pre></div><h4 id=\"tensorflow-%E3%81%AE-2.10-%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" data-line=\"112\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#tensorflow-%E3%81%AE-2.10-%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" aria-hidden=\"true\"></a> tensorflow の 2.10 をインストール</h4>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"114\">conda <span class=\"token function\">install</span> <span class=\"token assign-left variable\">tensorflow</span><span class=\"token operator\">==</span><span class=\"token number\">2.10</span>\n</code></pre></div><p data-line=\"118\" class=\"code-line\">インストールできないというメッセージが表示されるので、pip を使ってインストール</p>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"120\">pip <span class=\"token function\">install</span> <span class=\"token assign-left variable\">tensorflow</span><span class=\"token operator\">==</span><span class=\"token number\">2.10</span>\n</code></pre></div><p data-line=\"124\" class=\"code-line\">これにより、Keras もインストールされる</p>\n<h4 id=\"google-mediapipe-%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B\" data-line=\"126\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#google-mediapipe-%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B\" aria-hidden=\"true\"></a> Google mediapipe をインストールする</h4>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"128\">pip <span class=\"token function\">install</span> mediapipe\n</code></pre></div><h4 id=\"opencv-python-%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B\" data-line=\"132\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#opencv-python-%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B\" aria-hidden=\"true\"></a> opencv-python をインストールする</h4>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"134\">pip <span class=\"token function\">install</span> opencv-python<span class=\"token operator\">==</span><span class=\"token number\">3.4</span>.18.65\n</code></pre></div><h4 id=\"pytorch-%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B\" data-line=\"138\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#pytorch-%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%81%99%E3%82%8B\" aria-hidden=\"true\"></a> pytorch をインストールする</h4>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"140\">pip <span class=\"token function\">install</span> torch torchvision\n</code></pre></div><h4 id=\"spyder-%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" data-line=\"144\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#spyder-%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" aria-hidden=\"true\"></a> spyder のインストール</h4>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"146\">pip <span class=\"token function\">install</span> spyder\n</code></pre></div><p data-line=\"150\" class=\"code-line\">spyder の起動</p>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"152\">spyder\n</code></pre></div><p data-line=\"156\" class=\"code-line\">画面収録の場合（ただし、警告が連続で出る by 2025/9/21）</p>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"158\"><span class=\"token function\">sudo</span> spyder\n</code></pre></div><h2 id=\"mecab-%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" data-line=\"162\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#mecab-%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" aria-hidden=\"true\"></a> MeCab のインストール</h2>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"164\">pip <span class=\"token function\">install</span> mecab-python3\npip <span class=\"token function\">install</span> unidic-lite\nconda <span class=\"token function\">install</span> wordcloud\n</code></pre></div><p data-line=\"170\" class=\"code-line\">brew でインストール</p>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"172\">brew <span class=\"token function\">install</span> mecab mecab-ipadic\n</code></pre></div><h2 id=\"neologd-%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" data-line=\"176\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#neologd-%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" aria-hidden=\"true\"></a> NEologd をインストール</h2>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"178\"><span class=\"token function\">git</span> clone <span class=\"token parameter variable\">--depth</span> <span class=\"token number\">1</span> https://github.com/neologd/mecab-ipadic-neologd.git\n<span class=\"token builtin class-name\">cd</span> mecab-ipadic-neologd/\n./bin/install-mecab-ipadic-neologd <span class=\"token parameter variable\">-a</span>\n</code></pre></div><h2 id=\"%E4%BB%A5%E4%B8%8B%E3%81%AE%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%A7%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AE%E3%83%91%E3%82%B9%E3%82%92%E7%A2%BA%E8%AA%8D\" data-line=\"184\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E4%BB%A5%E4%B8%8B%E3%81%AE%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%A7%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AE%E3%83%91%E3%82%B9%E3%82%92%E7%A2%BA%E8%AA%8D\" aria-hidden=\"true\"></a> 以下のコマンドでディレクトリのパスを確認</h2>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"186\"><span class=\"token builtin class-name\">echo</span> <span class=\"token variable\"><span class=\"token variable\">`</span>mecab-config <span class=\"token parameter variable\">--dicdir</span><span class=\"token variable\">`</span></span><span class=\"token string\">\"/mecab-ipadic-neologd\"</span>\n↓\n/usr/local/lib/mecab/dic/mecab-ipadic-neologd\n</code></pre></div><h2 id=\"%E3%82%B3%E3%83%9F%E3%83%A5%E3%83%8B%E3%83%86%E3%82%A3%E6%8A%BD%E5%87%BA%EF%BC%88%E3%83%AB%E3%83%BC%E3%83%93%E3%83%B3%E6%B3%95%E3%82%92%E5%90%AB%E3%82%80%EF%BC%89\" data-line=\"192\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E3%82%B3%E3%83%9F%E3%83%A5%E3%83%8B%E3%83%86%E3%82%A3%E6%8A%BD%E5%87%BA%EF%BC%88%E3%83%AB%E3%83%BC%E3%83%93%E3%83%B3%E6%B3%95%E3%82%92%E5%90%AB%E3%82%80%EF%BC%89\" aria-hidden=\"true\"></a> コミュニティ抽出（ルービン法を含む）</h2>\n<div class=\"code-block-container\"><pre class=\"language-bash\"><code class=\"language-bash code-line\" data-line=\"194\">pip <span class=\"token function\">install</span> community\npip <span class=\"token function\">install</span> python-louvain\n</code></pre></div>","ogImage":{"url":"/assets/blog/dynamic-routing/cover.jpg"},"coverImage":"/assets/blog/dynamic-routing/cover.jpg","excerpt":"渡邉研究室 B3向け資料！","tags":["wtlab","Python","Anaconda","miniforge"]}},"__N_SSG":true}