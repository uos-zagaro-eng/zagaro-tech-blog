{"pageProps":{"post":{"title":"徳丸本 Docker版の実習環境をmacOSで構築する","date":"2026-01-19","slug":"260119_TokumaruOnMacOS","content":"<p data-line=\"1\" class=\"code-line\">こんにちは。山嵜です。</p>\n<p data-line=\"3\" class=\"code-line\">徳丸本(体系的に学ぶ 安全な Web アプリケーションの作り方 第 2 版)の実習環境を macOS で構築したので、備忘録を兼ねて導入の流れを本記事で紹介させていただきます。</p>\n<h2 id=\"%E8%A8%98%E4%BA%8B%E3%81%AE%E5%AF%BE%E8%B1%A1%E8%80%85\" data-line=\"5\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E8%A8%98%E4%BA%8B%E3%81%AE%E5%AF%BE%E8%B1%A1%E8%80%85\" aria-hidden=\"true\"></a> 記事の対象者</h2>\n<ul data-line=\"7\" class=\"code-line\">\n<li data-line=\"7\" class=\"code-line\">徳丸本で環境構築を行う方</li>\n<li data-line=\"8\" class=\"code-line\">macOS(Apple Silicon)を使用している方</li>\n</ul>\n<p data-line=\"10\" class=\"code-line\">なお、本記事は徳丸本の書籍が手元にある前提で話が進みます。</p>\n<h2 id=\"%E5%BF%85%E8%A6%81%E3%81%AA%E3%82%82%E3%81%AE\" data-line=\"12\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E5%BF%85%E8%A6%81%E3%81%AA%E3%82%82%E3%81%AE\" aria-hidden=\"true\"></a> 必要なもの</h2>\n<p data-line=\"14\" class=\"code-line\">以下のソフトウェアを各自インストールしてください。</p>\n<ul data-line=\"16\" class=\"code-line\">\n<li data-line=\"16\" class=\"code-line\"><a href=\"https://www.firefox.com/ja/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Mozilla Firefox</a>\n<ul data-line=\"17\" class=\"code-line\">\n<li data-line=\"17\" class=\"code-line\">Firefox 拡張機能: FoxyProxy-Standard</li>\n</ul>\n</li>\n<li data-line=\"18\" class=\"code-line\"><a href=\"https://www.docker.com/ja-jp/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Docker Desktop</a></li>\n<li data-line=\"19\" class=\"code-line\"><a href=\"https://github.com/zaproxy/zaproxy/releases/tag/v2.17.0\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">OWASP ZAP</a></li>\n<li data-line=\"20\" class=\"code-line\"><a href=\"https://www.java.com/ja/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Java (JRE)</a></li>\n</ul>\n<p data-line=\"22\" class=\"code-line\">拡張機能に関しては、徳丸本のページに設定方法が記載されています。</p>\n<span class=\"embed-block zenn-embedded zenn-embedded-card\"><iframe id=\"zenn-embedded__6e25652e11b1c\" src=\"https://embed.zenn.studio/card#zenn-embedded__6e25652e11b1c\" data-content=\"https%3A%2F%2Fwasbook.org%2Ffoxyproxy8.html\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"></iframe></span>\n<p data-line=\"25\" class=\"code-line\">macOS を使用している方でも、以下の動画が参考になると思います。<br />\nただし、<strong>OWASP ZAP</strong>の導入については手順が異なるので以下にまとめています。</p>\n<p data-line=\"28\" class=\"code-line\"><span class=\"embed-block embed-youtube\"><iframe src=\"https://www.youtube-nocookie.com/embed/07k-7Q2xGzY\" allow=\"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen loading=\"lazy\"></iframe></span><a href=\"https://youtu.be/07k-7Q2xGzY?si=yYBfZTHiYdsnKpzs\" style=\"display:none\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://youtu.be/07k-7Q2xGzY?si=yYBfZTHiYdsnKpzs</a></p>\n<aside class=\"msg message\"><span class=\"msg-symbol\">!</span><div class=\"msg-content\"><p data-line=\"31\" class=\"code-line\"><strong>OWASP ZAP</strong>をインストールする前に、Firefox(及び拡張機能)、Docker、Java の導入を済ませておいてください。また、Docker コンテナを起動しておくことを推奨します。</p>\n</div></aside>\n<h2 id=\"owasp-zap-%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" data-line=\"34\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#owasp-zap-%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" aria-hidden=\"true\"></a> OWASP ZAP のインストール</h2>\n<blockquote data-line=\"36\" class=\"code-line\">\n<p data-line=\"36\" class=\"code-line\">記事作成時の最新バージョンは 2.17.0 です。</p>\n</blockquote>\n<p data-line=\"38\" class=\"code-line\">GitHub の Releases からダウンロードするファイルを選択します。<br />\nApple Silicon(M1, M2 など)を使用している方は<strong>ZAP_2.17.0_aarch64.dmg</strong>を選択すれば OK です。</p>\n<p data-line=\"41\" class=\"code-line\"><img src=\"https://github.com/user-attachments/assets/63184d6a-4c65-4b57-ba8d-bd6516bd503f\" alt=\"GitHubのRelease画面\" class=\"md-img\" loading=\"lazy\" /></p>\n<p data-line=\"43\" class=\"code-line\"><strong>dmg</strong>をダウンロードしたらダブルクリックして開き、 Application に追加します。</p>\n<p data-line=\"45\" class=\"code-line\">しかし、LaunchPad 経由で開こうとすると「<strong>開発元を検証できないため開けません。</strong>」というエラーが出ることがあります。<br />\nその場合は、以下の手順を参考にして dmg を開く手順を行ってください。</p>\n<span class=\"embed-block zenn-embedded zenn-embedded-card\"><iframe id=\"zenn-embedded__17346cf6986bf\" src=\"https://embed.zenn.studio/card#zenn-embedded__17346cf6986bf\" data-content=\"https%3A%2F%2Fqiita.com%2Fsuzukidog%2Fitems%2Ff0e71297ec5307b473fd\" frameborder=\"0\" scrolling=\"no\" loading=\"lazy\"></iframe></span>\n<p data-line=\"49\" class=\"code-line\">開くことができたら、<strong>OWASP ZAP</strong>を開いて進めていきます。</p>\n<h2 id=\"owasp-zap-%E3%81%AE%E5%90%84%E7%A8%AE%E8%A8%AD%E5%AE%9A\" data-line=\"51\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#owasp-zap-%E3%81%AE%E5%90%84%E7%A8%AE%E8%A8%AD%E5%AE%9A\" aria-hidden=\"true\"></a> OWASP ZAP の各種設定</h2>\n<p data-line=\"53\" class=\"code-line\">先ほど掲載した徳丸さんの動画は 2023 年 2 月に公開されているため、現在のバージョンと少し設定画面が異なります。<br />\nこちらは、macOS に限らず Windows ユーザーの方にも参考になると思います。</p>\n<p data-line=\"56\" class=\"code-line\">まずは起動します。最初はセッションの保持方法について尋ねられますが、特に指定はありません。<br />\n今回は、一番上を選択して<strong>開始</strong>を押します。<br />\n<img src=\"https://github.com/user-attachments/assets/01b51981-125b-48eb-af2d-7add4aa6add8\" alt=\"\" class=\"md-img\" loading=\"lazy\" /><br />\n後にアドオンのダイアログが出てきますが、そのまま閉じて OK です。</p>\n<p data-line=\"61\" class=\"code-line\">ツール &gt; オプションを選択します。<br />\n<img src=\"https://github.com/user-attachments/assets/90cf0e7e-f2ab-4c1a-b99b-c610449e3ecf\" alt=\"\" class=\"md-img\" loading=\"lazy\" /></p>\n<p data-line=\"64\" class=\"code-line\">ネットワーク &gt; <strong>ローカルサーバー/プロキシ</strong>を選択して、赤枠のように設定します。<br />\n<img src=\"https://github.com/user-attachments/assets/b0639b02-26bc-4a54-8314-badd89aa5733\" alt=\"\" class=\"md-img\" loading=\"lazy\" /></p>\n<p data-line=\"67\" class=\"code-line\">ネットワーク &gt; <strong>接続</strong>を選択して、赤枠のように設定します。<br />\n<img src=\"https://github.com/user-attachments/assets/d07de13a-0467-44eb-93ac-a3dceb737a9f\" alt=\"\" class=\"md-img\" loading=\"lazy\" /></p>\n<aside class=\"msg message\"><span class=\"msg-symbol\">!</span><div class=\"msg-content\"><p data-line=\"70\" class=\"code-line\">画像のように表示されない場合、<strong>HTTP プロキシ</strong>を選択しているか確認してください。</p>\n</div></aside>\n<p data-line=\"73\" class=\"code-line\"><strong>ブレークポイント</strong>を選択して、赤枠のような設定になっているかを確認してください。<br />\n<img src=\"https://github.com/user-attachments/assets/764ecac1-9641-4f43-92c2-2b169ad30b20\" alt=\"\" class=\"md-img\" loading=\"lazy\" /></p>\n<p data-line=\"76\" class=\"code-line\"><strong>HUD</strong>を選択して、赤枠のような設定になっているかを確認してください。<code>Enabled when using the ZAP Desktop</code>のチェックが外されていることを確認できれば設定は完了です。<br />\n<img src=\"https://github.com/user-attachments/assets/0890e0b1-c223-47ea-a11f-5b9cbead7cc3\" alt=\"\" class=\"md-img\" loading=\"lazy\" /></p>\n<p data-line=\"79\" class=\"code-line\">ここで OWASP ZAP を再起動します。</p>\n<h2 id=\"%E5%AE%9F%E7%BF%92%E7%92%B0%E5%A2%83%E3%81%AE%E6%9C%80%E7%B5%82%E7%A2%BA%E8%AA%8D\" data-line=\"81\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E5%AE%9F%E7%BF%92%E7%92%B0%E5%A2%83%E3%81%AE%E6%9C%80%E7%B5%82%E7%A2%BA%E8%AA%8D\" aria-hidden=\"true\"></a> 実習環境の最終確認</h2>\n<p data-line=\"83\" class=\"code-line\">あとは実習環境へのアクセスができるかを確認しましょう。</p>\n<p data-line=\"85\" class=\"code-line\">ホームの<strong>手動探索</strong>を選択します。<br />\n<img src=\"https://github.com/user-attachments/assets/20ad3045-46d7-4952-9983-ac02e172dfbc\" alt=\"\" class=\"md-img\" loading=\"lazy\" /></p>\n<p data-line=\"88\" class=\"code-line\"><strong>探索対象 URL</strong>に<code>http://example.jp</code>を入力して、Firefox で<strong>ブラウザを起動</strong>ボタンを押しましょう。<br />\n<img src=\"https://github.com/user-attachments/assets/dca02418-ae89-4676-b543-6769b10e7db3\" alt=\"\" class=\"md-img\" loading=\"lazy\" /></p>\n<aside class=\"msg message\"><span class=\"msg-symbol\">!</span><div class=\"msg-content\"><p data-line=\"91\" class=\"code-line\">なぜかはわかりませんが、<code>.</code>の表示が消えてしまう不具合があるようです。アドレスをコピペしてそのまま進めていただければ大丈夫です。</p>\n</div></aside>\n<p data-line=\"94\" class=\"code-line\">Firefox ブラウザが開いて、ページが表示されたら環境の準備は完了です。</p>\n<h2 id=\"%E5%8F%82%E8%80%83%E3%81%AB%E3%81%95%E3%81%9B%E3%81%A6%E3%81%84%E3%81%9F%E3%81%A0%E3%81%84%E3%81%9F%E8%A8%98%E4%BA%8B%2Fweb-%E3%82%B5%E3%82%A4%E3%83%88\" data-line=\"96\" class=\"code-line\"><a class=\"header-anchor-link\" href=\"#%E5%8F%82%E8%80%83%E3%81%AB%E3%81%95%E3%81%9B%E3%81%A6%E3%81%84%E3%81%9F%E3%81%A0%E3%81%84%E3%81%9F%E8%A8%98%E4%BA%8B%2Fweb-%E3%82%B5%E3%82%A4%E3%83%88\" aria-hidden=\"true\"></a> 参考にさせていただいた記事/Web サイト</h2>\n<ul data-line=\"98\" class=\"code-line\">\n<li data-line=\"98\" class=\"code-line\"><a href=\"https://youtu.be/07k-7Q2xGzY?si=yYBfZTHiYdsnKpzs\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">徳丸本実習環境 Docker 版を Windows10/11 に 30 分で導入する</a></li>\n<li data-line=\"99\" class=\"code-line\"><a href=\"https://wasbook.org/wasbook-docker.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">安全な Web アプリケーションの作り方 第 2 版 サポートサイト</a></li>\n<li data-line=\"100\" class=\"code-line\"><a href=\"https://qiita.com/mainy/items/62e85191744f4f69f01c\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">徳丸本の Docker 実習環境を M1/M2 Mac で１から構築した #PHP - Qiita</a></li>\n<li data-line=\"101\" class=\"code-line\"><a href=\"https://www.school.ctc-g.co.jp/columns/mikumo/mikumo03.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">第 3 回　 M1/M2 Mac に対応！Docker 環境で実習環境を構築しよう (三雲 勇二)</a></li>\n<li data-line=\"102\" class=\"code-line\"><a href=\"https://support.apple.com/ja-jp/guide/mac-help/mh40616/mac\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">開発元が不明な Mac アプリを開く - Apple サポート (日本)</a></li>\n</ul>\n","ogImage":{"url":"/assets/blog/dynamic-routing/cover.jpg"},"coverImage":"/assets/blog/dynamic-routing/cover.jpg","excerpt":"徳丸浩 著「体系的に学ぶ 安全なWebアプリケーションの作り方 第2版」の実習環境をmacOSで構築します。(Apple Silicon対応)","tags":["輪読会","PHP","Docker","環境構築","macOS"]}},"__N_SSG":true}